<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript编码规范 | 前端开发规范</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/manual/assets/css/0.styles.d27e47f1.css" as="style"><link rel="preload" href="/manual/assets/js/app.0f33cce5.js" as="script"><link rel="preload" href="/manual/assets/js/2.fc9d38fd.js" as="script"><link rel="preload" href="/manual/assets/js/8.35e7ec3f.js" as="script"><link rel="prefetch" href="/manual/assets/js/3.1a3a23bb.js"><link rel="prefetch" href="/manual/assets/js/4.7bf71852.js"><link rel="prefetch" href="/manual/assets/js/5.7521dc39.js"><link rel="prefetch" href="/manual/assets/js/6.1a5b528c.js"><link rel="prefetch" href="/manual/assets/js/7.7241f139.js"><link rel="prefetch" href="/manual/assets/js/9.cfb529d6.js">
    <link rel="stylesheet" href="/manual/assets/css/0.styles.d27e47f1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/manual/" class="home-link router-link-active"><!----> <span class="site-name">前端开发规范</span></a> <div class="links"><!----> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>介绍</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/manual/" class="sidebar-link">说明</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>编码规范</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/manual/standard/CSS.html" class="sidebar-link">CSS编码规范</a></li><li><a href="/manual/standard/HTML.html" class="sidebar-link">HTML编码规范</a></li><li><a href="/manual/standard/JavaScript.html" class="active sidebar-link">JavaScript编码规范</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="javascript编码规范"><a href="#javascript编码规范" aria-hidden="true" class="header-anchor">#</a> JavaScript编码规范</h1> <h2 id="注释"><a href="#注释" aria-hidden="true" class="header-anchor">#</a> 注释</h2> <ul><li>注释应合理使用，不推荐每个方法每条语句都写上注释，也不推荐一个js模块全篇没有一个注释。</li></ul> <div class="danger custom-block"><p class="custom-block-title">警告</p> <p>当遇到以下情况时，必须写上注释：1.难以理解的代码段；2.与业务逻辑相关性很强的代码段；3.可能存在错误，健壮性不佳的代码段。</p></div> <ul><li>注释前应空行，但当注释在代码块的第一行时，则无需空行。</li> <li>单行注释<code>//</code>后面加一个空格。</li></ul> <h2 id="引号"><a href="#引号" aria-hidden="true" class="header-anchor">#</a> 引号</h2> <ul><li>字符串统一使用单引号包裹，如遇到引号嵌套的情况，最外层使用单引号，内层使用双引号。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// good</span>
<span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token string">'foo'</span><span class="token punctuation">,</span>
    z <span class="token operator">=</span> <span class="token string">'&lt;div id=&quot;test&quot;&gt;&lt;/div&gt;'</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="变量"><a href="#变量" aria-hidden="true" class="header-anchor">#</a> 变量</h2> <h3 id="变量命名"><a href="#变量命名" aria-hidden="true" class="header-anchor">#</a> 变量命名</h3> <ul><li>标准变量采用驼峰式命名（除了对象的属性外）。</li> <li>'ID'在变量名中全大写。</li> <li>'URL'在变量名中全大写。</li> <li>'Android'在变量名中大写第一个字母。</li> <li>'iOS'在变量名中小写第一个，大写后两个字母。</li> <li>常量全大写，用下划线连接。</li> <li>构造函数，大写第一个字母。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 示例</span>
<span class="token keyword">let</span> thisIsMyName<span class="token punctuation">;</span>

<span class="token keyword">let</span> goodID<span class="token punctuation">;</span>

<span class="token keyword">let</span> reportURL<span class="token punctuation">;</span>

<span class="token keyword">let</span> AndroidVersion<span class="token punctuation">;</span>

<span class="token keyword">let</span> iOSVersion<span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token constant">MAX_COUNT</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="变量使用"><a href="#变量使用" aria-hidden="true" class="header-anchor">#</a> 变量使用</h3> <ul><li>变量必须先声明后使用。</li> <li>声明过的变量必须使用。</li> <li>如果一个变量声明后从未被重新定义，就应该用const声明。</li> <li>永远不要直接使用undefined进行变量判断，而应该使用typeof和字符串'undefined'对变量进行判断。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>person <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>

<span class="token comment">// good</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> person <span class="token operator">===</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="数组、对象、函数"><a href="#数组、对象、函数" aria-hidden="true" class="header-anchor">#</a> 数组、对象、函数</h2> <ul><li>立即执行函数外层必须包一层括号。</li> <li>不要在内置对象的原型上添加方法，如Array, Date。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">count</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>for-in里一定要有hasOwnProperty的判断。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">for</span> <span class="token punctuation">(</span>key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// be sure that obj[key] belongs to the object and was not inherited</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>在使用构造函数进行实例化的时候，必须把抛出的新对象内存指针赋值给一个变量。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// good</span>
<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>switch语句要给出default情况的处理逻辑。</li></ul> <h2 id="其他"><a href="#其他" aria-hidden="true" class="header-anchor">#</a> 其他</h2> <ul><li>统一使用ES6/ES7编写。</li> <li>js文件名应该全部使用小写字符, 连字符统一使用<code>-</code>或<code>.</code>，如aa-bbb-name.js,api.config.js。</li> <li>不允许有空的代码块。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad with empty block</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre></div><ul><li>用<code>===</code>, <code>!==</code>代替<code>==</code>, <code>!=</code>。</li> <li>字符串拼接推荐使用模板字符串。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> age <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">,</span>
    name <span class="token operator">=</span> <span class="token string">'xiaoming'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> into<span class="token punctuation">;</span>

<span class="token comment">// bad</span>
intro <span class="token operator">=</span> <span class="token string">'my name is '</span><span class="token operator">+</span> name <span class="token operator">+</span><span class="token string">',I am '</span> <span class="token operator">+</span> age <span class="token operator">+</span> <span class="token string">' years old'</span><span class="token punctuation">;</span>

<span class="token comment">// good </span>
intro <span class="token operator">=</span> <span class="token template-string"><span class="token string">`my name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,I am </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> years old`</span></span>
</code></pre></div><ul><li>类的定义和扩展使用class和extends关键字，而不是修改函数原型。</li> <li>对于需要使用匿名函数的场景优先考虑箭头函数。</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/manual/standard/HTML.html" class="prev">
          HTML编码规范
        </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/manual/assets/js/app.0f33cce5.js" defer></script><script src="/manual/assets/js/2.fc9d38fd.js" defer></script><script src="/manual/assets/js/8.35e7ec3f.js" defer></script>
  </body>
</html>
